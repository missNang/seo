(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c60a4a0"],{"25f0":function(e,t,i){"use strict";var o=i("6eeb"),l=i("825a"),r=i("d039"),s=i("ad6d"),a="toString",n=RegExp.prototype,u=n[a],c=r((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),d=u.name!=a;(c||d)&&o(RegExp.prototype,a,(function(){var e=l(this),t=String(e.source),i=e.flags,o=String(void 0===i&&e instanceof RegExp&&!("flags"in n)?s.call(e):i);return"/"+t+"/"+o}),{unsafe:!0})},3904:function(e,t,i){},"3e56":function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"content-right"},[e._m(0),i("div",{staticClass:"all-bg cmain"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"视频标题",prop:"title"}},[i("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),i("el-form-item",{attrs:{label:"视频关键词",prop:"keyword_ids"}},[i("el-select",{attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"",placeholder:"请输入关键词","remote-method":e.remoteMethod,loading:e.loading},model:{value:e.keyword_ids,callback:function(t){e.keyword_ids=t},expression:"keyword_ids"}},e._l(e.listkey,(function(e){return i("el-option",{key:e.id,attrs:{label:e.keyword,value:e.id}})})),1)],1),i("el-form-item",{attrs:{label:"上传封面图",prop:"cover"}},[i("div",{staticStyle:{display:"flex"}},[i("el-input",{model:{value:e.ruleForm.cover,callback:function(t){e.$set(e.ruleForm,"cover",t)},expression:"ruleForm.cover"}}),i("el-upload",{staticClass:"upload-demo",attrs:{action:"/client/user/upload_img","on-success":e.handlePreview,"on-remove":e.handleRemove,multiple:"",limit:1,"file-list":e.fileList}},[i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[e._v("点击上传")])],1)],1)]),i("el-form-item",{attrs:{label:"上传视频",prop:"video_file"}},[i("div",{staticStyle:{display:"flex"}},[i("el-input",{model:{value:e.ruleForm.video_file,callback:function(t){e.$set(e.ruleForm,"video_file",t)},expression:"ruleForm.video_file"}}),i("el-upload",{staticClass:"upload-demo",attrs:{action:"/client/user/upload_video","on-success":e.handlePreviewVideo,"on-remove":e.handleRemoveVideo,multiple:"",limit:1,"file-list":e.fileList1}},[i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"}},[e._v("点击上传")])],1)],1)]),i("el-form-item",{attrs:{label:"地点名称",prop:"poi"}},[i("div",{staticStyle:{display:"flex"}},[i("el-input",{attrs:{placeholder:"关键词"},model:{value:e.poiform.keyword,callback:function(t){e.$set(e.poiform,"keyword",t)},expression:"poiform.keyword"}}),i("el-input",{staticStyle:{"margin-left":"10px"},attrs:{placeholder:"城市名"},model:{value:e.poiform.city,callback:function(t){e.$set(e.poiform,"city",t)},expression:"poiform.city"}}),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:""},on:{click:e.serach}},[e._v("搜索地点")])],1),i("div",[i("el-table",{directives:[{name:"show",rawName:"v-show",value:e.showpoiList,expression:"showpoiList"}],staticStyle:{width:"100%"},attrs:{data:e.poiList,border:""}},[i("el-table-column",{attrs:{prop:"poi_name",label:"名称",width:"180"}}),i("el-table-column",{attrs:{prop:"address",label:"地址",width:"180"}}),i("el-table-column",{attrs:{prop:"city",label:"城市"}}),i("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.changepoi(t.row)}}},[e._v(" 选择 ")])]}}])})],1)],1),i("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"地点名称请从搜索获取",disabled:""},model:{value:e.ruleForm.poi,callback:function(t){e.$set(e.ruleForm,"poi",t)},expression:"ruleForm.poi"}})],1),i("el-form-item",{attrs:{label:"是否展示地址",prop:"show_poi"}},[i("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.show_poi,callback:function(t){e.$set(e.ruleForm,"show_poi",t)},expression:"ruleForm.show_poi"}},[e._v("显示")]),i("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.show_poi,callback:function(t){e.$set(e.ruleForm,"show_poi",t)},expression:"ruleForm.show_poi"}},[e._v("不显示")])],1),i("el-form-item",{attrs:{label:"小程序id",prop:"mini_code_id"}},[i("el-input",{model:{value:e.ruleForm.mini_code_id,callback:function(t){e.$set(e.ruleForm,"mini_code_id",t)},expression:"ruleForm.mini_code_id"}})],1),i("el-form-item",{attrs:{label:"小程序标题",prop:"mini_code_title"}},[i("el-input",{model:{value:e.ruleForm.mini_code_title,callback:function(t){e.$set(e.ruleForm,"mini_code_title",t)},expression:"ruleForm.mini_code_title"}})],1),i("el-form-item",{attrs:{label:"目标抖音open_id",prop:"open_id"}},[i("el-select",{attrs:{filterable:"",clearable:"",placeholder:"请选择"},model:{value:e.ruleForm.open_id,callback:function(t){e.$set(e.ruleForm,"open_id",t)},expression:"ruleForm.open_id"}},e._l(e.useropenid,(function(e){return i("el-option",{key:e.open_id,attrs:{label:e.nickname,value:e.open_id}})})),1)],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交保存")])],1)],1)],1),e._m(1)])},l=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"menu-btn"},[i("span",{staticClass:"active"},[e._v("上传视频")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("footer",{staticClass:"footer all-bg"},[e._v(" Copyright "),e._v(" 抖来查SEO 2022")])}],r=(i("4de4"),i("d3b7"),i("25f0"),{data:function(){return{loading:!1,poiform:{city:"",keyword:"",cursor:""},fileList:[],fileList1:[],ruleForm:{title:"",video_file:"",cover:"",keyword_ids:"",poi:"",show_poi:"1",mini_code_id:"",mini_code_title:"",open_id:""},keyword_ids:[],poiList:[],showpoiList:!1,listkey:[],useropenid:[],rules:{title:[{required:!0,message:"请输入",trigger:"blur"}],video_file:[{required:!0,message:"请输入",trigger:"blur"}],cover:[{required:!0,message:"请输入",trigger:"blur"}],poi:[{required:!0,message:"poi地点不能为空",trigger:"blur"}],show_poi:[{required:!0,message:"请输入",trigger:"blur"}],keyword_ids:[{required:!0,message:"请输入",trigger:"blur"}]}}},mounted:function(){this.getlistkey(),this.getdouid()},methods:{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e),this.ruleForm.cover=e.url},handleRemoveVideo:function(e,t){console.log(e,t)},handlePreviewVideo:function(e){console.log(e),this.ruleForm.video_file=e.url},serach:function(){var e=this;this.$api.post("/client/user/poi_search",this.poiform).then((function(t){e.poiList=t.data.pois,e.showpoiList=!0}))},changepoi:function(e){this.ruleForm.poi=e.poi_name,this.showpoiList=!1},remoteMethod:function(e){var t=this;""!==e?(this.loading=!0,setTimeout((function(){t.loading=!1,t.options=t.list.filter((function(t){return t.label.toLowerCase().indexOf(e.toLowerCase())>-1}))}),200)):this.options=[]},getlistkey:function(){var e=this;this.$api.get("/client/user/keyword_conf_list").then((function(t){e.listkey=t.data}))},getdouid:function(){var e=this;this.$api.get("/client/user/account_list").then((function(t){e.useropenid=t.data}))},submitForm:function(){var e=this,t=this.keyword_ids;this.ruleForm.keyword_ids=t.toString(),this.$api.post("/client/user/create_video",this.ruleForm).then((function(t){console.log(t),1==t.result&&e.$message({message:"恭喜你，添加成功",type:"success"})}))}}}),s=r,a=(i("5b05"),i("2877")),n=Object(a["a"])(s,o,l,!1,null,"6334c682",null);t["default"]=n.exports},"4de4":function(e,t,i){"use strict";var o=i("23e7"),l=i("b727").filter,r=i("1dde"),s=r("filter");o({target:"Array",proto:!0,forced:!s},{filter:function(e){return l(this,e,arguments.length>1?arguments[1]:void 0)}})},"5b05":function(e,t,i){"use strict";i("3904")}}]);